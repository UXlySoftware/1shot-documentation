
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Transaction Configuration &#8212; 1Shot Docs</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=01f34227"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=18a8d5f5"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'transactions';</script>
    <link rel="canonical" href="https://docs.1shotapi.com/transactions.html" />
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Calling the 1Shot API" href="api.html" />
    <link rel="prev" title="Escrow Wallets" href="escrow-wallets.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/1shot-logo.svg" class="logo__image only-light" alt="1Shot Docs - Home"/>
    <img src="_static/1shot-logo.svg" class="logo__image only-dark pst-js-only" alt="1Shot Docs - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="org-creation.html">
    Organization Management
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="escrow-wallets.html">
    Escrow Wallets
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Transaction Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="api.html">
    Calling the 1Shot API
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://x.com/1shotapi" title="X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-x-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/xkF9NFS6" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="org-creation.html">
    Organization Management
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="escrow-wallets.html">
    Escrow Wallets
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    Transaction Configuration
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="api.html">
    Calling the 1Shot API
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://x.com/1shotapi" title="X" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-x-twitter fa-lg" aria-hidden="true"></i>
            <span class="sr-only">X</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/xkF9NFS6" title="Discord" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-discord fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Discord</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Transaction Configuration</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="transaction-configuration">
<h1>Transaction Configuration<a class="headerlink" href="#transaction-configuration" title="Link to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before you can configure a transaction endpoint, you’ll need to provision and fund an <a class="reference external" href="escrow-wallets.html">escrow wallet</a>.</p>
</div>
<p>Transaction endpoints are the core of the 1Shot API. They are the RESTful endpoints you configure to call smart contract functions on the blockchain.
Each transaction endpoint is linked to a single escrow wallet and can be configured to accept a specific set of input parameters. In order to
configure a transaction endpoint, you’ll need to provide the following information:</p>
<ol class="arabic simple">
<li><p>A target blockchain network (Ethereum mainnet, Binance Smart Chain, Avalanche, etc.)</p></li>
<li><p>The contract address of the smart contract you want to interact with</p></li>
<li><p>The name of the function you want to call on the contract</p></li>
<li><p>Input parameters the function expects</p></li>
<li><p>(optional) A webhook URL to receive real-time feedback on the transaction status</p></li>
</ol>
<p>Once you’ve configured a transaction endpoint, you can trigger the transaction by making a POST request to the 1Shot API with
your <a class="reference external" href="api.html">API key and secret</a>. You’ll need to grab the <code class="docutils literal notranslate"><span class="pre">TRANSACTION_ENDPOINT_ID</span></code> of the endpoint from the 1Shot dashboard.</p>
<section id="example-base-usdc-transfer">
<h2>Example: Base USDC Transfer<a class="headerlink" href="#example-base-usdc-transfer" title="Link to this heading">#</a></h2>
<img alt="USDC Transfer Example" class="align-center" src="_images/usdc-example.gif" />
<br /><p>In this example, we’ll configure a transaction endpoint to transfer USDC tokens from our escrow wallet to a recipient. We’ll assume you’ve
already created and funded an <a class="reference external" href="escrow-wallets.html">escrow wallet</a> for the Base L2 network with BaseETH and that it contains some USDC tokens.</p>
<p>We’ll start by clicking the “Create a New Endpoint” button on the Transactions page. Give the endpoint a name and description, then select the
Base L2 network from the dropdown. Fill in the webhook URL if you want to receive real-time feedback on the transaction status.</p>
<p>On the next page, we will enter <code class="docutils literal notranslate"><span class="pre">transfer</span></code> as the function name we want to call on the USDC contract address <a class="reference external" href="https://basescan.org/token/0x833589fcd6edb6e08f4c7c32d4f71b54bda02913">0x833589fcd6edb6e08f4c7c32d4f71b54bda02913</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">transfer</span></code> function on the USDC contract expects the following input parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">to</span></code>: The address to transfer the tokens to which is a primitive type <code class="docutils literal notranslate"><span class="pre">address</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">value</span></code>: The amount of tokens to transfer (USDC has 18 decimal places) which is a primitive type <code class="docutils literal notranslate"><span class="pre">uint256</span></code></p></li>
</ul>
<p>We’ll set both of these parameters to be <code class="docutils literal notranslate"><span class="pre">Dynamic</span></code> so because we will pass both of them as input parameters when we call the API endpoit.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>You can also set parameters to be <code class="docutils literal notranslate"><span class="pre">Static</span></code> if you want to hardcode them in the transaction endpoint configuration. This is useful, for example,
if you always want to transfer the same amount of tokens every time but to different addresses.</p>
</div>
</section>
<section id="transaction-parameters">
<h2>Transaction Parameters<a class="headerlink" href="#transaction-parameters" title="Link to this heading">#</a></h2>
<p>At the highest configuration level, input paramerters can be either <code class="docutils literal notranslate"><span class="pre">primitive</span></code>, <code class="docutils literal notranslate"><span class="pre">array</span></code>, or <code class="docutils literal notranslate"><span class="pre">struct</span></code> types. A <code class="docutils literal notranslate"><span class="pre">primitive</span></code> is a type like
<code class="docutils literal notranslate"><span class="pre">uint</span></code> or <code class="docutils literal notranslate"><span class="pre">bool</span></code> that is not composed of other types and is likely the most common input type. An <code class="docutils literal notranslate"><span class="pre">array</span></code> is a collection
of the same type of elements, and a <code class="docutils literal notranslate"><span class="pre">struct</span></code> is a collection of different types of elements.</p>
<section id="static-vs-dynamic-parameters">
<h3>Static vs Dynamic Parameters<a class="headerlink" href="#static-vs-dynamic-parameters" title="Link to this heading">#</a></h3>
<p>When configuring a transaction endpoint, input parameters can be either <code class="docutils literal notranslate"><span class="pre">Static</span></code> or <code class="docutils literal notranslate"><span class="pre">Dynamic</span></code>. Parameters set to <code class="docutils literal notranslate"><span class="pre">Static</span></code> will be hardcoded in the
transaction endpoint configuration and are not specified in the request payload when calling the API. Parameters set to <code class="docutils literal notranslate"><span class="pre">Dynamic</span></code> will be passed as
input parameters when calling the API and can be different for each transaction. See <a class="reference external" href="api.html">Calling the 1Shot API</a> for more information on how
to trigger a transaction.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Only primitive types are supported for static parameters. Dynamic parameters can be primitive types or compound types like structs and arrays.
If your function takes a compound type, you’ll need to pass it as a JSON object in the request payload.</p>
</div>
</section>
<section id="struct-and-array-inputs">
<h3>Struct and Array Inputs<a class="headerlink" href="#struct-and-array-inputs" title="Link to this heading">#</a></h3>
<p>If the function you want to call takes a struct or array as an input parameter, you’ll need to define the structure of the input in the transaction
endpoint builder. Take the following example in which the input parameter is a struct which itself contains a <code class="docutils literal notranslate"><span class="pre">uint128</span></code>, <code class="docutils literal notranslate"><span class="pre">string</span></code>, and <code class="docutils literal notranslate"><span class="pre">array</span></code> of booleans:</p>
<div class="highlight-solidity notranslate"><div class="highlight"><pre><span></span><span class="kt">struct</span><span class="w"> </span><span class="nv">Foo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">uint128</span><span class="w"> </span><span class="nv">fooUint128</span><span class="p">;</span>
<span class="w">    </span><span class="kt">string</span><span class="w"> </span><span class="nv">fooString</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="p">[]</span><span class="w"> </span>fooBoolArray<span class="p">;</span>
<span class="p">}</span>

<span class="kt">function</span><span class="w"> </span><span class="nv">callFooBar</span><span class="p">(</span>Foo<span class="w"> </span>calldata<span class="w"> </span>foo<span class="p">)</span><span class="w"> </span><span class="kt">public</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span>emit<span class="w"> </span>CalledFoo<span class="p">(</span>foo<span class="p">.</span>fooUint128<span class="p">,</span><span class="w"> </span>foo<span class="p">.</span>fooString<span class="p">,</span><span class="w"> </span>foo<span class="p">.</span>fooBoolArray<span class="p">[</span><span class="m m-Decimal">0</span><span class="p">]);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The configuration for the input struct parameter, <code class="docutils literal notranslate"><span class="pre">foo</span></code>, would look like this:</p>
<img alt="Struct configuration example" class="align-center" src="_images/struct-example.png" />
<br /><p>The payload used to <a class="reference external" href="api.html#triggering-a-transaction">call the API</a> endpoint would look like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;foo&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;fooUint128&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;fooString&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;fooBoolArray&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="webhooks">
<h2>Webhooks<a class="headerlink" href="#webhooks" title="Link to this heading">#</a></h2>
<p>Webhooks are an optional configuration for your transaction endpoints but are highly recommended as they provide immediate feedback to your application once a transaction
has been confirmed on the blockchain network. 1Shot API implements best practices for webhooks are discussed at <a class="reference external" href="https://webhooks.fyi/">webhooks.fyi</a>, which includes
replay protection and forward compatibility. ,</p>
<p>When you configure a webhook, 1Shot will send a POST request to the URL you provide with a JSON payload that looks like this:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;eventName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BusinessCreated&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;businessId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c7c34dd2-4068-45b3-b894-081bbe68944d&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;chain&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11155111</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;transactionExecutionId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;aefe1058-6a0f-4271-b99c-4753779f9bb1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;transactionReceipt&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TransactionReceipt&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;blobGasPrice&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;blobGasUsed&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;blockHash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xb5e0dec517a6498917c951323cc24ac66d179e9408b84abedc59d203eb0789d7&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;blockNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7939928</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;contractAddress&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cumulativeGasUsed&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9783249&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;from&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xD6AC871Ea68dD41774dA321B85e11D094b49aaa8&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;gasPrice&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;4200820&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;gasUsed&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;34770&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x5a197c403feaf9d923751810e3927f3e73b3c64775a403728c0ffec3e332a497&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;logs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;log&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x17Ed2c50596E1C74175F905918dEd2d2042b87f3&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;blockHash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0xb5e0dec517a6498917c951323cc24ac66d179e9408b84abedc59d203eb0789d7&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;blockNumber&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7939928</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x0000000000000000000000000000000000000000000000000de0b6b3a7640000&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">149</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;topics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;0x00000000000000000000000032dcd6af330461788c378a7204fb72ad83a0e250&quot;</span>
<span class="w">          </span><span class="p">],</span>
<span class="w">          </span><span class="nt">&quot;transactionHash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x5a197c403feaf9d923751810e3927f3e73b3c64775a403728c0ffec3e332a497&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;transactionIndex&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;logsBloom&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x00000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000020000000002000000000800000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000800000000000000000000000000000000000000000040002000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000001000000000000000&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;to&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0x17Ed2c50596E1C74175F905918dEd2d2042b87f3&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;userId&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1742445849</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;apiVersion&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;signature&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;EAyg4CA2OqpWR/IlklQmYI9QZk7tJK4o4Egfh0kvCP3VwZSD6n2kpJLxrqcPqB59gtE6a6N3zMmfAKevnaDfCQ==&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="webhook-signatures">
<h3>Webhook Signatures<a class="headerlink" href="#webhook-signatures" title="Link to this heading">#</a></h3>
<p>1Shot API signs the webhook payload using the <a class="reference external" href="https://en.wikipedia.org/wiki/EdDSA#Ed25519">ed25519</a> signature scheme. As shown
in the example above, signature is included in the JSON payload under the key <code class="docutils literal notranslate"><span class="pre">signature</span></code>. You should verify the signature using the
public key provided in the transaction details page. The public key is a base64 encoded ed25519 public key that you can use to verify
the signature.</p>
<p>Here is an example of a <a class="reference external" href="https://fastapi.tiangolo.com/tutorial/">FastAPI</a> server that verifies authenticates callbacks from 1Shot API:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">FastAPI</span><span class="p">,</span> <span class="n">Request</span><span class="p">,</span> <span class="n">HTTPException</span><span class="p">,</span> <span class="n">Depends</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cryptography.hazmat.primitives.asymmetric.ed25519</span><span class="w"> </span><span class="kn">import</span> <span class="n">Ed25519PublicKey</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cryptography.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">InvalidSignature</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">verify_signature_decorator</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Extract the required fields from the request</span>
        <span class="n">body</span> <span class="o">=</span> <span class="k">await</span> <span class="n">request</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>  <span class="c1"># Raw request body</span>
        <span class="n">signature</span> <span class="o">=</span> <span class="n">body</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;signature&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># Example header name</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">signature</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Signature field missing&quot;</span><span class="p">)</span>

        <span class="c1"># Decode the signature</span>
        <span class="n">signature_bytes</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

        <span class="c1"># Public key in base64 format from the Transaction Details Page</span>
        <span class="n">pubkey_b64</span> <span class="o">=</span> <span class="s2">&quot;1N7gklNt5gpfMIHhIUR+csMIb7oO4JX7Q7QTdqj7+Qw=&quot;</span>
        <span class="c1"># Load the public key</span>
        <span class="n">public_key</span> <span class="o">=</span> <span class="n">Ed25519PublicKey</span><span class="o">.</span><span class="n">from_public_bytes</span><span class="p">(</span>
            <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">pubkey_b64</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="c1"># Verify the signature</span>
        <span class="n">public_key</span><span class="o">.</span><span class="n">verify</span><span class="p">(</span><span class="n">signature_bytes</span><span class="p">,</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">separators</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">),</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">InvalidSignature</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">403</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid signature&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Internal error: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/python&quot;</span><span class="p">,</span> <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span><span class="n">Depends</span><span class="p">(</span><span class="n">verify_signature_decorator</span><span class="p">)])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_python_webhook</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Webhook received and signature verified&quot;</span><span class="p">}</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/healthcheck-python&#39;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">root</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;webhook sinker is up!&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>A complete example you can run from your local machine using <a class="reference external" href="https://ngrok.com/">ngrok</a> tunnels can be
found <a class="reference external" href="https://github.com/UXlySoftware/webhook-sinker">here</a>.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="escrow-wallets.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Escrow Wallets</p>
      </div>
    </a>
    <a class="right-next"
       href="api.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Calling the 1Shot API</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-base-usdc-transfer">Example: Base USDC Transfer</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#transaction-parameters">Transaction Parameters</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#static-vs-dynamic-parameters">Static vs Dynamic Parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#struct-and-array-inputs">Struct and Array Inputs</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#webhooks">Webhooks</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#webhook-signatures">Webhook Signatures</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, UXly Software.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>